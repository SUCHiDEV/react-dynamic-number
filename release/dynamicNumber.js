!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var r=t("object"==typeof exports?require("react"):e.React);for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}(this,function(e){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),l=i(u),h=r(2),c=i(h),p=function(e){function t(e){n(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,e));return r.dynamicNumber=new c["default"],r.dynamicNumber.separator=r.props.separator,r.dynamicNumber.integer=r.props.integer,r.dynamicNumber.fraction=r.props.fraction,r.dynamicNumber.positive=r.props.positive,r.dynamicNumber.negative=r.props.negative,r.dynamicNumber.thousand=r.props.thousand,r.state={modelValue:0,viewValue:"0"},r.onChange=r.onChange.bind(r),r}return o(t,e),s(t,[{key:"onChange",value:function(e){this.dynamicNumber.calculate(e.target.value,this.state.modelValue,this.state.viewValue);var t=this.dynamicNumber.modelValue,r=this.dynamicNumber.viewValue;this.props.onChange&&this.props.onChange(e,t,r),this.setState({modelValue:t,viewValue:r})}},{key:"render",value:function(){return l["default"].createElement("input",{type:"text",className:this.props.className,value:this.state.viewValue,onChange:this.onChange})}}]),t}(l["default"].Component);p.propTypes={value:l["default"].PropTypes.number,integer:l["default"].PropTypes.number,fraction:l["default"].PropTypes.number,positive:l["default"].PropTypes.bool,negative:l["default"].PropTypes.bool,separator:function(e,t){return void 0!==e[t]&&","!==e[t]&&"."!==e[t]?new Error("separator have to be comma or dot char"):void 0},thousand:function(e,t){return void 0!==e[t]&&e[t]!==!0&&e[t]!==!1&&" "!==e[t]?new Error("thousand have to be bool value or space character"):void 0}},t["default"]=p},function(t,r){t.exports=e},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){r(this,e),this._separator=".",this._integer=10,this._fraction=10,this._positive=!0,this._negative=!0,this._regexp=this._buildRegexp(),this._isThousand=!1,this._thousand=null}return i(e,[{key:"calculate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"0":arguments[2];this._rawViewValue=e,this._oldModelValue=t,this._oldViewValue=r,this._newModelValue=0,this._newViewValue="";var i=String(this._rawViewValue);if(i=this._removeThousandSeparator(i),i=this._removeLeadingZero(i),""===i&&"0"===String(this._rawViewValue).charAt(0))return this._newModelValue=0,this._newViewValue="0",0;if(void 0===i||""===i)return this._newModelValue=0,void(this._newViewValue="");if("-"===i)return this._newModelValue=0,void(this._newViewValue="-");if(this._regexp.test(i)===!1)return this._newModelValue=this._oldModelValue,void(this._newViewValue=this._oldViewValue);var n=this._createModelValue(i);return this._newModelValue=n,void(this._newViewValue=this._createViewValue(n))}},{key:"_calculateThousandSeparator",value:function(){" "!==this._thousand&&("."===this._separator?this._thousand=",":this._thousand=".")}},{key:"_buildRegexp",value:function(){var e="-?";this._positive===!1&&this._negative===!0?e="-":this._positive===!0&&this._negative===!1&&(e="");var t="[0-9]{0,"+this._integer+"}";0===this._integer&&(t="0");var r="(\\"+this._separator+"([0-9]){0,"+this._fraction+"})";return 0===this._fraction&&(r=""),new RegExp("^"+e+t+r+"?$")}},{key:"_removeLeadingZero",value:function(e){return e.replace(/^0+/g,"").replace(/^-0(\d+)/g,"-$1").replace(/^-([\.,])/,"-0$1").replace(/^[\.,]/g,"0$&")}},{key:"_removeThousandSeparator",value:function(e){return this._isThousand?e.replace(new RegExp("\\"+this._thousand,"g"),""):e}},{key:"_createModelValue",value:function(e){return","===this._separator?parseFloat(e.replace(/\./g,"").replace(",",".")):parseFloat(e.replace(/,/g,""))}},{key:"_createViewValue",value:function(e){return this._isThousand?(e=String(e).split("."),e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this._thousand),e.join(".")):e}},{key:"separator",set:function(e){this._separator="."===e||","===e?e:this._separator,this._regexp=this._buildRegexp(),this._calculateThousandSeparator()}},{key:"integer",set:function(e){if(e>=0){var t=parseInt(e,10);isNaN(t)===!1&&isFinite(t)&&t>=0&&(this._integer=t)}this._regexp=this._buildRegexp()}},{key:"fraction",set:function(e){if(e>=0){var t=parseInt(e,10);isNaN(t)===!1&&isFinite(t)&&t>=0&&(this._fraction=t)}this._regexp=this._buildRegexp()}},{key:"positive",set:function(e){(e===!0||e===!1)&&(this._positive=e),this._regexp=this._buildRegexp()}},{key:"negative",set:function(e){(e===!0||e===!1)&&(this._negative=e),this._regexp=this._buildRegexp()}},{key:"thousand",set:function(e){this._isThousand=e||" "===e," "===e&&(this.thousand=" "),this._calculateThousandSeparator()}},{key:"modelValue",get:function(){return this._newModelValue}},{key:"viewValue",get:function(){return this._newViewValue}}]),e}();t["default"]=n}])});